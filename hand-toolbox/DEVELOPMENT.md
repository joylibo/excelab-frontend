# 开发规范文档

## 📋 分支策略

### 分支命名规范
- `main` - 主分支，用于生产环境部署
- `develop` - 开发分支，集成所有功能
- `feature/[功能名称]` - 功能开发分支
- `bugfix/[问题描述]` - 问题修复分支
- `hotfix/[紧急问题]` - 紧急修复分支

### 工作流程
1. 从 `develop` 分支创建功能分支
2. 在功能分支上进行开发
3. 完成开发后，创建 Pull Request 到 `develop` 分支
4. 代码审查通过后合并
5. 定期将 `develop` 合并到 `main` 分支

## 🎯 Commit 规范

### Commit 消息格式
```
<类型>: <描述>

[可选正文]

[可选脚注]
```

### Commit 类型
- `feat` - 新功能
- `fix` - 修复问题
- `docs` - 文档更新
- `style` - 代码格式调整
- `refactor` - 代码重构
- `test` - 测试相关
- `chore` - 构建过程或辅助工具变动

### 示例
```
feat: 添加表格合并功能

- 实现多文件上传
- 添加进度显示
- 支持Excel和CSV格式
```

## 🎨 代码规范

### TypeScript
- 使用严格的类型检查
- 避免使用 `any` 类型
- 接口和类型定义清晰
- 使用类型导入语法 `import type { ... }`

### React
- 使用函数组件和 Hooks
- 组件命名使用 PascalCase
- 自定义 Hook 命名使用 `use` 前缀
- 避免在组件中直接操作 DOM

### 样式
- 使用 Tailwind CSS 进行样式设计
- 遵循 shadcn/ui 的设计规范
- 保持响应式设计

## 📁 项目结构

```
src/
├── components/          # 组件目录
│   ├── ui/             # 基础UI组件
│   ├── layout/         # 布局组件
│   ├── sections/       # 页面区块组件
│   ├── tables/         # 表格处理组件
│   ├── docs/           # 文档处理组件
│   └── images/         # 图片处理组件
├── hooks/              # 自定义Hooks
├── lib/                # 工具函数
├── contexts/           # React Contexts
└── types/              # 类型定义
```

## 🛠️ 开发工具

### 编辑器配置
- 使用 VS Code 作为推荐编辑器
- 安装 Prettier 和 ESLint 插件
- 启用自动格式化

### 代码质量
- 提交前运行 `npm run lint`
- 确保没有 TypeScript 错误
- 保持代码风格一致

## 📦 依赖管理

### 添加新依赖
```bash
# 生产依赖
npm install package-name

# 开发依赖
npm install -D package-name
```

### 更新依赖
```bash
# 检查更新
npm outdated

# 更新依赖
npm update
```

## 🚀 开发流程

### 1. 环境设置
```bash
npm install
npm run dev
```

### 2. 功能开发
- 创建功能分支
- 实现功能并编写测试
- 确保代码通过 lint 检查

### 3. 代码审查
- 创建 Pull Request
- 请求代码审查
- 根据反馈进行修改

### 4. 部署测试
- 在测试环境验证功能
- 确保没有回归问题

## 🔧 调试技巧

### 浏览器调试
- 使用 React Developer Tools
- 利用浏览器开发者工具

### 日志记录
- 使用 `console.log` 进行调试
- 生产环境移除调试代码

## 📚 文档要求

### 组件文档
- 每个组件应该有清晰的注释
- 说明 props 和用法
- 提供使用示例

### API 文档
- 描述接口功能和参数
- 提供请求和响应示例

## 🧪 测试策略

### 单元测试
- 为工具函数编写测试
- 测试组件逻辑

### 集成测试
- 测试组件间交互
- 验证用户流程

## 🔒 安全考虑

### 代码安全
- 避免 XSS 攻击
- 验证用户输入
- 使用安全的 API 调用

### 数据安全
- 敏感信息不提交到代码库
- 使用环境变量管理配置

## 📞 协作沟通

### 问题报告
- 使用清晰的标题和描述
- 提供重现步骤
- 包含环境信息

### 代码审查
- 提供建设性反馈
- 尊重他人代码风格
- 及时响应审查请求

## 🎉 发布流程

### 版本管理
- 使用语义化版本号
- 更新 CHANGELOG.md
- 创建版本标签

### 部署检查
- 测试所有功能
- 验证性能表现
- 检查浏览器兼容性
